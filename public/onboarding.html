<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Wizard - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-4">
                üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
            </h1>
            <p class="text-white/80 text-lg">–°–æ–∑–¥–∞–π—Ç–µ Telegram –±–æ—Ç–∞ –∑–∞ 5 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤</p>
        </div>
        
        <!-- Progress Bar -->
        <div class="max-w-2xl mx-auto mb-8">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center text-sm font-bold text-purple-600" id="step-1-indicator">1</div>
                    <span class="ml-2 text-white text-sm">–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞</span>
                </div>
                <div class="flex-1 h-1 bg-white/20 mx-4"></div>
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold text-white" id="step-2-indicator">2</div>
                    <span class="ml-2 text-white/60 text-sm">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤</span>
                </div>
                <div class="flex-1 h-1 bg-white/20 mx-4"></div>
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold text-white" id="step-3-indicator">3</div>
                    <span class="ml-2 text-white/60 text-sm">Google —Å–µ—Ä–≤–∏—Å—ã</span>
                </div>
                <div class="flex-1 h-1 bg-white/20 mx-4"></div>
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold text-white" id="step-4-indicator">4</div>
                    <span class="ml-2 text-white/60 text-sm">FAQ</span>
                </div>
                <div class="flex-1 h-1 bg-white/20 mx-4"></div>
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold text-white" id="step-5-indicator">5</div>
                    <span class="ml-2 text-white/60 text-sm">–ó–∞–ø—É—Å–∫</span>
                </div>
            </div>
        </div>

        <!-- Step 1: Bot Creation -->
        <div class="step active" id="step-1">
            <div class="max-w-2xl mx-auto">
                <div class="glass-effect rounded-lg p-6 text-white">
                    <h2 class="text-2xl font-semibold mb-4">ü§ñ –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞</h2>
                    <p class="mb-4">–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather –≤ Telegram:</p>
                    <ol class="list-decimal list-inside mb-6 space-y-2">
                        <li>–ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram</li>
                        <li>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /newbot</li>
                        <li>–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –¥–ª—è –±–æ—Ç–∞</li>
                        <li>–ü—Ä–∏–¥—É–º–∞–π—Ç–µ username (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ 'bot')</li>
                        <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞</li>
                    </ol>
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">–¢–æ–∫–µ–Ω –±–æ—Ç–∞:</label>
                        <input type="text" id="bot-token" placeholder="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz" 
                               class="w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/50">
                    </div>
                    <button onclick="goToStep(2)" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg">
                        –î–∞–ª–µ–µ
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 2: Channel Setup -->
        <div class="step" id="step-2">
            <div class="max-w-2xl mx-auto">
                <div class="glass-effect rounded-lg p-6 text-white">
                    <h2 class="text-2xl font-semibold mb-4">üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤</h2>
                    <p class="mb-4">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:</p>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Chat ID –∫–∞–Ω–∞–ª–∞ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π:</label>
                            <input type="text" id="parents-chat-id" placeholder="-1001234567890" 
                                   class="w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/50">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">Chat ID —á–∞—Ç–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:</label>
                            <input type="text" id="staff-chat-id" placeholder="-1001234567890" 
                                   class="w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/50">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">Chat ID –∫–∞–Ω–∞–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:</label>
                            <input type="text" id="announcements-chat-id" placeholder="-1001234567890" 
                                   class="w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/50">
                        </div>
                    </div>
                    
                    <div class="mt-6 p-4 bg-blue-500/20 rounded-lg">
                        <h3 class="font-semibold mb-2">–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Chat ID:</h3>
                        <ol class="list-decimal list-inside text-sm space-y-1">
                            <li>–û—Ç–∫—Ä–æ–π—Ç–µ Telegram –≤ –±—Ä–∞—É–∑–µ—Ä–µ (web.telegram.org)</li>
                            <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω—É–∂–Ω—ã–π —á–∞—Ç/–∫–∞–Ω–∞–ª</li>
                            <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ Chat ID –∏–∑ URL (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100)</li>
                            <li>–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ —á–∞—Ç –∏ –¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</li>
                        </ol>
                    </div>
                    
                    <div class="flex justify-between mt-6">
                        <button onclick="goToStep(1)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg">
                            –ù–∞–∑–∞–¥
                        </button>
                        <button onclick="goToStep(3)" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg">
                            –î–∞–ª–µ–µ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 3: Google Services -->
        <div class="step" id="step-3">
            <div class="max-w-2xl mx-auto">
                <div class="glass-effect rounded-lg p-6 text-white">
                    <h2 class="text-2xl font-semibold mb-4">üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Google —Å–µ—Ä–≤–∏—Å–æ–≤</h2>
                    <p class="mb-4">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ Google Sheets –∏ Calendar –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:</p>
                    
                    <div class="space-y-4">
                        <div class="p-4 bg-green-500/20 rounded-lg">
                            <h3 class="font-semibold mb-2">üìä Google Sheets</h3>
                            <p class="text-sm mb-3">–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–ª–∞—Ç–µ–∂–∞—Ö, –ø–æ—Å–µ—â–µ–Ω–∏—è—Ö –∏ FAQ</p>
                            <button onclick="connectGoogleSheets()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg">
                                –ü–æ–¥–∫–ª—é—á–∏—Ç—å Google Sheets
                            </button>
                            <div id="sheets-status" class="mt-2 text-sm"></div>
                        </div>
                        
                        <div class="p-4 bg-blue-500/20 rounded-lg">
                            <h3 class="font-semibold mb-2">üìÖ Google Calendar</h3>
                            <p class="text-sm mb-3">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</p>
                            <button onclick="connectGoogleCalendar()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                                –ü–æ–¥–∫–ª—é—á–∏—Ç—å Google Calendar
                            </button>
                            <div id="calendar-status" class="mt-2 text-sm"></div>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-6">
                        <button onclick="goToStep(2)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg">
                            –ù–∞–∑–∞–¥
                        </button>
                        <button onclick="goToStep(4)" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg">
                            –î–∞–ª–µ–µ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: FAQ Setup -->
        <div class="step" id="step-4">
            <div class="max-w-2xl mx-auto">
                <div class="glass-effect rounded-lg p-6 text-white">
                    <h2 class="text-2xl font-semibold mb-4">‚ùì –ù–∞—Å—Ç—Ä–æ–π–∫–∞ FAQ</h2>
                    <p class="mb-4">–î–æ–±–∞–≤—å—Ç–µ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã:</p>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">–ó–∞–≥—Ä—É–∑–∏—Ç—å FAQ –∏–∑ —Ñ–∞–π–ª–∞:</label>
                            <input type="file" id="faq-file" accept=".csv,.txt" 
                                   class="w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white">
                            <p class="text-sm text-white/60 mt-1">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è CSV –∏ TXT —Ñ–∞–π–ª—ã</p>
                        </div>
                        
                        <div class="p-4 bg-yellow-500/20 rounded-lg">
                            <h3 class="font-semibold mb-2">üìã –®–∞–±–ª–æ–Ω FAQ</h3>
                            <p class="text-sm mb-3">–°–∫–∞—á–∞–π—Ç–µ —à–∞–±–ª–æ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è FAQ</p>
                            <button onclick="downloadTemplate()" class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg">
                                –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-6">
                        <button onclick="goToStep(3)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg">
                            –ù–∞–∑–∞–¥
                        </button>
                        <button onclick="goToStep(5)" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg">
                            –î–∞–ª–µ–µ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 5: Launch -->
        <div class="step" id="step-5">
            <div class="max-w-2xl mx-auto">
                <div class="glass-effect rounded-lg p-6 text-white">
                    <h2 class="text-2xl font-semibold mb-4">üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞</h2>
                    <p class="mb-4">–í—Å–µ –≥–æ—Ç–æ–≤–æ! –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞:</p>
                    
                    <div class="space-y-4">
                        <div class="p-4 bg-green-500/20 rounded-lg">
                            <h3 class="font-semibold mb-2">‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞</h3>
                            <ul class="text-sm space-y-1">
                                <li>‚Ä¢ –ë–æ—Ç —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</li>
                                <li>‚Ä¢ –ö–∞–Ω–∞–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã</li>
                                <li>‚Ä¢ Google —Å–µ—Ä–≤–∏—Å—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã</li>
                                <li>‚Ä¢ FAQ –∑–∞–≥—Ä—É–∂–µ–Ω</li>
                            </ul>
                        </div>
                        
                        <button onclick="startBot()" class="w-full bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg text-lg font-semibold">
                            üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
                        </button>
                    </div>
                    
                    <div class="flex justify-between mt-6">
                        <button onclick="goToStep(4)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg">
                            –ù–∞–∑–∞–¥
                        </button>
                        <button onclick="goToDashboard()" class="bg-purple-500 hover:bg-purple-600 text-white px-6 py-2 rounded-lg">
                            –ü–µ—Ä–µ–π—Ç–∏ –≤ Dashboard
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 5;

        function goToStep(step) {
            // Hide current step
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            document.getElementById(`step-${currentStep}-indicator`).classList.remove('bg-white', 'text-purple-600');
            document.getElementById(`step-${currentStep}-indicator`).classList.add('bg-white/20', 'text-white');
            
            // Show new step
            currentStep = step;
            document.getElementById(`step-${currentStep}`).classList.add('active');
            document.getElementById(`step-${currentStep}-indicator`).classList.remove('bg-white/20', 'text-white');
            document.getElementById(`step-${currentStep}-indicator`).classList.add('bg-white', 'text-purple-600');
            
            // Update progress bar
            for (let i = 1; i <= totalSteps; i++) {
                const indicator = document.getElementById(`step-${i}-indicator`);
                if (i < currentStep) {
                    indicator.classList.remove('bg-white/20', 'text-white');
                    indicator.classList.add('bg-white', 'text-purple-600');
                } else if (i > currentStep) {
                    indicator.classList.remove('bg-white', 'text-purple-600');
                    indicator.classList.add('bg-white/20', 'text-white');
                }
            }
        }

        async function connectGoogleSheets() {
            const statusDiv = document.getElementById('sheets-status');
            statusDiv.innerHTML = 'üîÑ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...';
            
            try {
                // Get OAuth URL
                const response = await fetch('/api/auth/google/url');
                const data = await response.json();
                
                if (data.url) {
                    // Open popup for OAuth
                    const popup = window.open(data.url, 'google-auth', 'width=500,height=600');
                    
                    // Listen for popup messages
                    window.addEventListener('message', async (event) => {
                        if (event.data.type === 'GOOGLE_AUTH_SUCCESS') {
                            statusDiv.innerHTML = '‚úÖ Google Sheets –ø–æ–¥–∫–ª—é—á–µ–Ω!';
                            
                            // Create spreadsheet
                            const createResponse = await fetch('/api/sheets/create', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({
                                    projectName: 'Telegram Bot Project',
                                    projectId: 'project-' + Date.now()
                                })
                            });
                            
                            if (createResponse.ok) {
                                statusDiv.innerHTML = '‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞!';
                            } else {
                                statusDiv.innerHTML = '‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã';
                            }
                            
                            if (popup && !popup.closed) {
                                popup.close();
                            }
                        }
                    });
                } else {
                    statusDiv.innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è URL –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏';
                }
            } catch (error) {
                console.error('Error:', error);
                statusDiv.innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è';
            }
        }

        async function connectGoogleCalendar() {
            const statusDiv = document.getElementById('calendar-status');
            statusDiv.innerHTML = 'üîÑ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...';
            
            try {
                // Get OAuth URL for Calendar
                const response = await fetch('/api/auth/google/url');
                const data = await response.json();
                
                if (data.url) {
                    // Open popup for OAuth
                    const popup = window.open(data.url, 'google-auth', 'width=500,height=600');
                    
                    // Listen for popup messages
                    window.addEventListener('message', async (event) => {
                        if (event.data.type === 'GOOGLE_AUTH_SUCCESS') {
                            statusDiv.innerHTML = '‚úÖ Google Calendar –ø–æ–¥–∫–ª—é—á–µ–Ω!';
                            
                            if (popup && !popup.closed) {
                                popup.close();
                            }
                        }
                    });
                } else {
                    statusDiv.innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è URL –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏';
                }
            } catch (error) {
                console.error('Error:', error);
                statusDiv.innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è';
            }
        }

        function downloadTemplate() {
            const csvContent = '–í–æ–ø—Ä–æ—Å,–û—Ç–≤–µ—Ç,–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞\n' +
                '–í–æ —Å–∫–æ–ª—å–∫–æ –∑–∞–Ω—è—Ç–∏–µ?,–ó–∞–Ω—è—Ç–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ 16:50,–≤—Ä–µ–º—è,–≤–æ —Å–∫–æ–ª—å–∫–æ,—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ\n' +
                '–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –∑–∞–Ω—è—Ç–∏–µ?,–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏—è 1500 —Ä—É–±–ª–µ–π,—Ü–µ–Ω–∞,—Å—Ç–æ–∏–º–æ—Å—Ç—å,—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç\n' +
                '–ì–¥–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∑–∞–Ω—è—Ç–∏–µ?,–ó–∞–Ω—è—Ç–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –∞–¥—Ä–µ—Å—É —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 123,–∞–¥—Ä–µ—Å,–≥–¥–µ,–º–µ—Å—Ç–æ';
            
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'faq-template.csv';
            link.click();
        }

        async function startBot() {
            const botToken = document.getElementById('bot-token').value;
            const parentsChatId = document.getElementById('parents-chat-id').value;
            const staffChatId = document.getElementById('staff-chat-id').value;
            const announcementsChatId = document.getElementById('announcements-chat-id').value;
            
            if (!botToken) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞');
                return;
            }
            
            try {
                const response = await fetch('/api/bots/create', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        botToken,
                        parentsChatId,
                        staffChatId,
                        announcementsChatId
                    })
                });
                
                if (response.ok) {
                    alert('‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!');
                } else {
                    alert('‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞');
            }
        }

        function goToDashboard() {
            window.location.href = '/dashboard';
        }
    </script>
</body>
</html>