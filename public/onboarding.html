<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Wizard - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="min-h-screen gradient-bg">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="flex items-center justify-center space-x-3 mb-4">
                <div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center">
                    <svg class="w-8 h-8 text-gray-800" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <span class="text-3xl font-bold text-white">Telegram Wizard</span>
            </div>
            <h1 class="text-4xl font-bold text-white mb-2">
                –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
            </h1>
            <p class="text-white/80 text-lg">
                –°–æ–∑–¥–∞–¥–∏–º —É–º–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç
            </p>
        </div>

        <!-- Progress Bar -->
        <div class="glass-effect rounded-xl p-6 mb-8">
            <div class="flex items-center justify-between mb-4">
                <span class="text-white font-medium">–®–∞–≥ <span id="current-step">1</span> –∏–∑ <span id="total-steps">5</span></span>
                <span class="text-white/80" id="step-title">–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞</span>
            </div>
            <div class="w-full bg-white/20 rounded-full h-2">
                <div class="bg-white h-2 rounded-full progress-bar" id="progress-bar" style="width: 20%"></div>
            </div>
        </div>

        <!-- Step 1: Bot Creation -->
        <div class="step active" id="step-1">
            <div class="glass-effect rounded-xl p-8">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-white mb-2">–°–æ–∑–¥–∞–π—Ç–µ Telegram –±–æ—Ç–∞</h2>
                    <p class="text-white/80">–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –æ—Ç @BotFather –≤ Telegram</p>
                </div>

                <div class="space-y-6">
                    <div>
                        <label class="block text-white font-medium mb-2">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
                        <input type="text" id="project-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –®–∫–æ–ª–∞ —Ä–∏—Å–æ–≤–∞–Ω–∏—è" 
                               class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                    </div>
                    
                    <div>
                        <label class="block text-white font-medium mb-2">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
                        <textarea id="project-description" rows="3" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞..."
                                  class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-white font-medium mb-2">–¢–æ–∫–µ–Ω –±–æ—Ç–∞</label>
                        <input type="text" id="bot-token" placeholder="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz" 
                               class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                        <p class="text-white/60 text-sm mt-2">–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —É @BotFather –≤ Telegram</p>
                    </div>
                </div>

                <div class="flex justify-end mt-8">
                    <button onclick="nextStep()" class="bg-white text-gray-900 font-semibold py-3 px-8 rounded-lg hover:bg-white/90 transition-colors">
                        –î–∞–ª–µ–µ
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 2: Channels Setup -->
        <div class="step" id="step-2">
            <div class="glass-effect rounded-xl p-8">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-white mb-2">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞–Ω–∞–ª—ã</h2>
                    <p class="text-white/80">–î–æ–±–∞–≤—å—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±—â–µ–Ω–∏—è</p>
                    <!-- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—å Telegram –≤ –±—Ä–∞—É–∑–µ—Ä–µ -->
                    <div class="bg-blue-500/20 border border-blue-400/30 rounded-lg p-4 mt-4">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-blue-300" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="ml-3">
                                <h3 class="text-blue-200 font-medium">üí° –°–æ–≤–µ—Ç –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞</h3>
                                <p class="text-blue-200 text-sm mt-1">
                                    –û—Ç–∫—Ä–æ–π—Ç–µ <a href="https://web.telegram.org" target="_blank" class="underline font-medium">Telegram –≤ –±—Ä–∞—É–∑–µ—Ä–µ</a> - 
                                    —Ç–∞–∫ –±—É–¥–µ—Ç –ø—Ä–æ—â–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Chat ID –∏–∑ URL –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏!
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-green-500/20 border border-green-400/30 rounded-lg p-4 mt-4">
                        <p class="text-green-200 text-sm">
                            <strong>–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–∞—Ç—ã –∏ –ø–æ–ª—É—á–∏—Ç—å Chat ID:</strong><br>
                            1. –û—Ç–∫—Ä–æ–π—Ç–µ <a href="https://web.telegram.org" target="_blank" class="underline">Telegram –≤ –±—Ä–∞—É–∑–µ—Ä–µ</a><br>
                            2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω—É–∂–Ω—ã–π —á–∞—Ç/–∫–∞–Ω–∞–ª –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —á–∞—Ç<br>
                            3. –î–æ–±–∞–≤—å—Ç–µ –≤ —ç—Ç–æ—Ç —á–∞—Ç –±–æ—Ç–∞ –∏ –¥–∞–π—Ç–µ –µ–º—É –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞<br>
                            4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Chat ID –∏–∑ URL (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100)
                        </p>
                        <div class="mt-3 p-2 bg-green-600/20 rounded border border-green-400/30">
                            <p class="text-green-200 text-xs">
                                <strong>üí° –í–∞–∂–Ω–æ:</strong> –ë–æ—Ç—É –Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
                            </p>
                        </div>
                        <div class="mt-2 p-2 bg-blue-600/20 rounded border border-blue-400/30">
                            <p class="text-blue-200 text-xs">
                                <strong>üìã –ü—Ä–∏–º–µ—Ä URL:</strong> https://web.telegram.org/k/#-1001234567890<br>
                                Chat ID: <code class="bg-white/20 px-1 rounded">-1001234567890</code>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- –ö–∞–Ω–∞–ª —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ -->
                    <div class="bg-white/10 rounded-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-white font-semibold">–†–æ–¥–∏—Ç–µ–ª–∏</h3>
                                <p class="text-white/60 text-sm">–ß–∞—Ç —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏</p>
                            </div>
                        </div>
                        <input type="text" id="parents-chat" placeholder="-1001234567890" 
                               class="w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                        <p class="text-white/60 text-xs mt-1">Chat ID (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100)</p>
                        
                        <!-- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π -->
                        <div class="mt-3 p-3 bg-blue-500/20 rounded-lg">
                            <p class="text-blue-200 text-xs font-medium mb-2">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —á–∞—Ç–∞ —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏:</p>
                            <div class="space-y-2">
                                <label class="flex items-center text-blue-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded" checked>
                                    –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ FAQ
                                </label>
                                <label class="flex items-center text-blue-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded" checked>
                                    "–°–ø–∞—Å–∏–±–æ, –∂–¥–µ–º!" (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–∏—è)
                                </label>
                                <label class="flex items-center text-blue-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded" checked>
                                    "–û—á–µ–Ω—å –∂–∞–ª—å..." (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ)
                                </label>
                                <label class="flex items-center text-blue-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded" checked>
                                    –≠—Å–∫–∞–ª–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—É
                                </label>
                                <label class="flex items-center text-blue-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /ask - –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
                                </label>
                                <label class="flex items-center text-blue-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /absence - –∑–∞—è–≤–∏—Ç—å –æ –ø—Ä–æ–ø—É—Å–∫–µ
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ß–∞—Ç —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ -->
                    <div class="bg-white/10 rounded-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-white font-semibold">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h3>
                                <p class="text-white/60 text-sm">–ß–∞—Ç —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏</p>
                            </div>
                        </div>
                        <input type="text" id="staff-chat" placeholder="-1001234567890" 
                               class="w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                        <p class="text-white/60 text-xs mt-1">Chat ID (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100)</p>
                        
                        <!-- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ -->
                        <div class="mt-3 p-3 bg-green-500/20 rounded-lg">
                            <p class="text-green-200 text-xs font-medium mb-2">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —á–∞—Ç–∞ —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏:</p>
                            <div class="space-y-2">
                                <label class="flex items-center text-green-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded" checked>
                                    /post_lama_approve - –æ–¥–æ–±—Ä–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
                                </label>
                                <label class="flex items-center text-green-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded" checked>
                                    –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–æ–ø—Ä–æ—Å–∞—Ö –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª–µ–π
                                </label>
                                <label class="flex items-center text-green-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /attendance - –æ—Ç–º–µ—Ç–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
                                </label>
                                <label class="flex items-center text-green-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /payment - –æ—Ç–º–µ—Ç–∫–∞ –æ–ø–ª–∞—Ç—ã
                                </label>
                                <label class="flex items-center text-green-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /leave - –∑–∞—è–≤–∫–∞ –Ω–∞ –æ—Ç–ø—É—Å–∫/–±–æ–ª—å–Ω–∏—á–Ω—ã–π
                                </label>
                                <label class="flex items-center text-green-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /announce - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
                                </label>
                                <label class="flex items-center text-green-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /issue - –∑–∞—è–≤–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—É
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ö–∞–Ω–∞–ª –æ–±—ä—è–≤–ª–µ–Ω–∏–π -->
                    <div class="bg-white/10 rounded-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-white font-semibold">–û–±—ä—è–≤–ª–µ–Ω–∏—è</h3>
                                <p class="text-white/60 text-sm">–ö–∞–Ω–∞–ª –æ–±—ä—è–≤–ª–µ–Ω–∏–π</p>
                            </div>
                        </div>
                        <input type="text" id="announcements-chat" placeholder="-1001234567890" 
                               class="w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                        <p class="text-white/60 text-xs mt-1">Chat ID (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100)</p>
                        
                        <!-- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–∞–Ω–∞–ª–∞ -->
                        <div class="mt-3 p-3 bg-purple-500/20 rounded-lg">
                            <p class="text-purple-200 text-xs font-medium mb-2">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–Ω–∞–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:</p>
                            <div class="space-y-2">
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded" checked>
                                    /post_lama - –ø—Ä—è–º–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è
                                </label>
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded" checked>
                                    /post_lama_approve - –ø—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏–µ
                                </label>
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /queue - –ø—Ä–æ—Å–º–æ—Ç—Ä —ç—Å–∫–∞–ª–∞—Ü–∏–π
                                </label>
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /calendar - –∫–∞–ª–µ–Ω–¥–∞—Ä—å (72—á)
                                </label>
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /payments - –ø–ª–∞—Ç–µ–∂–∏ –∑–∞ –º–µ—Å—è—Ü
                                </label>
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /absences - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ)
                                </label>
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /leaves - –æ—Ç–ø—É—Å–∫–∞/–±–æ–ª—å–Ω–∏—á–Ω—ã–µ
                                </label>
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /msg_parents - —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è–º
                                </label>
                                <label class="flex items-center text-purple-200/80 text-xs">
                                    <input type="checkbox" class="mr-2 rounded">
                                    /msg_staff - —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-between mt-8">
                    <button onclick="prevStep()" class="bg-white/20 text-white font-semibold py-3 px-8 rounded-lg hover:bg-white/30 transition-colors">
                        –ù–∞–∑–∞–¥
                    </button>
                    <button onclick="nextStep()" class="bg-white text-gray-900 font-semibold py-3 px-8 rounded-lg hover:bg-white/90 transition-colors">
                        –î–∞–ª–µ–µ
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 3: Google Integration -->
        <div class="step" id="step-3">
            <div class="glass-effect rounded-xl p-8">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-white mb-2">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ Google —Å–µ—Ä–≤–∏—Å—ã</h2>
                    <p class="text-white/80">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Sheets –∏ Calendar –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</p>
                </div>

                <!-- Google Sheets Setup -->
                <div class="space-y-4 mb-6">
                    <div class="bg-green-500/20 border border-green-400/30 rounded-lg p-4">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-green-300" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="ml-3">
                                <h3 class="text-green-200 font-medium">üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets</h3>
                                <p class="text-green-200/80 text-sm mt-1">
                                    –ú—ã —Å–æ–∑–¥–∞–¥–∏–º –¥–ª—è –≤–∞—Å –≥–æ—Ç–æ–≤—É—é Google —Ç–∞–±–ª–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ª–∏—Å—Ç–∞–º–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Sheets Setup Options -->
                    <div class="bg-white/10 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-3">
                            <div>
                                <h4 class="text-white font-semibold">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É</h4>
                                <p class="text-white/60 text-sm">–ú—ã —Å–æ–∑–¥–∞–¥–∏–º –≥–æ—Ç–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É —Å –ª–∏—Å—Ç–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö</p>
                            </div>
                            <button onclick="createGoogleSheets()" class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors">
                                –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
                            </button>
                        </div>
                        
                        <div class="text-white/60 text-xs space-y-1">
                            <p>‚Ä¢ <strong>Payments</strong> - –æ–ø–ª–∞—Ç—ã –∏ –ø–ª–∞—Ç–µ–∂–∏</p>
                            <p>‚Ä¢ <strong>Attendance</strong> - –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏–π</p>
                            <p>‚Ä¢ <strong>Leave</strong> - –æ—Ç–ø—É—Å–∫–∞ –∏ –±–æ–ª—å–Ω–∏—á–Ω—ã–µ</p>
                            <p>‚Ä¢ <strong>Absence</strong> - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —É—á–µ–Ω–∏–∫–æ–≤</p>
                            <p>‚Ä¢ <strong>KB</strong> - –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (FAQ)</p>
                            <p>‚Ä¢ <strong>Triage</strong> - —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –∏ –≤–æ–ø—Ä–æ—Å—ã</p>
                        </div>
                    </div>

                    <div class="bg-white/10 rounded-lg p-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="text-white font-semibold">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É</h4>
                                <p class="text-white/60 text-sm">–£–∫–∞–∂–∏—Ç–µ ID –≤–∞—à–µ–π Google —Ç–∞–±–ª–∏—Ü—ã</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <input type="text" id="existing-sheet-id" placeholder="1ABC123..." 
                                       class="px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 w-48">
                                <button onclick="connectExistingSheet()" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors">
                                    –ü–æ–¥–∫–ª—é—á–∏—Ç—å
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calendar Integration -->
                <div class="mb-6">
                    <h3 class="text-white font-semibold mb-4">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å</h3>

                <div class="bg-white/10 rounded-lg p-6 mb-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-white font-semibold">Google Calendar</h3>
                                <p class="text-white/60">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π</p>
                            </div>
                        </div>
                        <button onclick="connectGoogle()" class="bg-blue-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-blue-600 transition-colors">
                            –ü–æ–¥–∫–ª—é—á–∏—Ç—å
                        </button>
                    </div>
                </div>

                <div class="space-y-4">
                    <div>
                        <label class="block text-white font-medium mb-2">ID –∫–∞–ª–µ–Ω–¥–∞—Ä—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                        <input type="text" id="calendar-id" placeholder="your-calendar@gmail.com" 
                               class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                    </div>
                    
                    <div>
                        <label class="block text-white font-medium mb-2">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</label>
                        <div class="grid grid-cols-2 gap-4">
                            <input type="time" id="work-start" value="09:00" 
                                   class="px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                            <input type="time" id="work-end" value="21:00" 
                                   class="px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                        </div>
                    </div>
                </div>

                <div class="flex justify-between mt-8">
                    <button onclick="prevStep()" class="bg-white/20 text-white font-semibold py-3 px-8 rounded-lg hover:bg-white/30 transition-colors">
                        –ù–∞–∑–∞–¥
                    </button>
                    <button onclick="nextStep()" class="bg-white text-gray-900 font-semibold py-3 px-8 rounded-lg hover:bg-white/90 transition-colors">
                        –î–∞–ª–µ–µ
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 4: FAQ Setup -->
        <div class="step" id="step-4">
            <div class="glass-effect rounded-xl p-8">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-white mb-2">–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π</h2>
                    <p class="text-white/80">–î–æ–±–∞–≤—å—Ç–µ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã</p>
                </div>

                <div class="space-y-6 mb-6">
                    <!-- File Upload -->
                    <div class="bg-white/10 rounded-lg p-6">
                        <h3 class="text-white font-semibold mb-4">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π</h3>
                        <div class="space-y-4">
                            <div class="border-2 border-dashed border-white/30 rounded-lg p-6 text-center">
                                <svg class="w-12 h-12 text-white/60 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                                </svg>
                                <p class="text-white/80 mb-2">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ CSV —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏</p>
                                <input type="file" id="faq-file" accept=".csv" class="hidden" onchange="handleFileUpload(event)">
                                <button onclick="document.getElementById('faq-file').click()" class="bg-white/20 text-white font-semibold py-2 px-4 rounded-lg hover:bg-white/30 transition-colors">
                                    –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª
                                </button>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-white font-medium">–®–∞–±–ª–æ–Ω FAQ</p>
                                    <p class="text-white/60 text-sm">–°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</p>
                                </div>
                                <button onclick="downloadTemplate()" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors">
                                    –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Manual Entry -->
                    <div class="bg-white/10 rounded-lg p-6">
                        <h3 class="text-white font-semibold mb-4">–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-white font-medium mb-2">–í–æ–ø—Ä–æ—Å</label>
                                <input type="text" id="faq-question" placeholder="–í–æ —Å–∫–æ–ª—å–∫–æ –∑–∞–Ω—è—Ç–∏–µ?" 
                                       class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                            </div>
                            <div>
                                <label class="block text-white font-medium mb-2">–û—Ç–≤–µ—Ç</label>
                                <input type="text" id="faq-answer" placeholder="–ó–∞–Ω—è—Ç–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ 16:50" 
                                       class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                            </div>
                        </div>
                        <button onclick="addFAQ()" class="w-full bg-white/20 text-white font-semibold py-3 px-6 rounded-lg hover:bg-white/30 transition-colors mt-4">
                            –î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
                        </button>
                    </div>
                </div>

                <div id="faq-list" class="space-y-3 mb-6">
                    <!-- FAQ items will be added here -->
                </div>

                <div class="flex justify-between mt-8">
                    <button onclick="prevStep()" class="bg-white/20 text-white font-semibold py-3 px-8 rounded-lg hover:bg-white/30 transition-colors">
                        –ù–∞–∑–∞–¥
                    </button>
                    <button onclick="nextStep()" class="bg-white text-gray-900 font-semibold py-3 px-8 rounded-lg hover:bg-white/90 transition-colors">
                        –î–∞–ª–µ–µ
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 5: Completion -->
        <div class="step" id="step-5">
            <div class="glass-effect rounded-xl p-8 text-center">
                <div class="w-16 h-16 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-6">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                </div>
                <h2 class="text-2xl font-bold text-white mb-4">–ì–æ—Ç–æ–≤–æ!</h2>
                <p class="text-white/80 text-lg mb-6">–í–∞—à –±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</p>

                <div class="bg-white/10 rounded-lg p-6 mb-6 text-left">
                    <h3 class="text-white font-semibold mb-4">–°–≤–æ–¥–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫:</h3>
                    <div id="summary" class="space-y-2 text-white/80">
                        <!-- Summary will be populated here -->
                    </div>
                </div>

                <div class="flex justify-center space-x-4">
                    <button onclick="startBot()" class="bg-green-500 text-white font-semibold py-3 px-8 rounded-lg hover:bg-green-600 transition-colors">
                        –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
                    </button>
                    <button onclick="goToDashboard()" class="bg-white text-gray-900 font-semibold py-3 px-8 rounded-lg hover:bg-white/90 transition-colors">
                        –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–Ω–µ–ª—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 5;
        const faqItems = [];

        const stepTitles = {
            1: '–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞',
            2: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤',
            3: '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è',
            4: '–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π',
            5: '–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ'
        };

        function updateProgress() {
            document.getElementById('current-step').textContent = currentStep;
            document.getElementById('total-steps').textContent = totalSteps;
            document.getElementById('step-title').textContent = stepTitles[currentStep];
            document.getElementById('progress-bar').style.width = (currentStep / totalSteps * 100) + '%';
        }

        function showStep(step) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step-${step}`).classList.add('active');
            updateProgress();
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                currentStep++;
                showStep(currentStep);
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

        async function createGoogleSheets() {
            const projectName = document.getElementById('project-name').value || '–ú–æ–π –ø—Ä–æ–µ–∫—Ç';
            const projectId = 'project_' + Date.now(); // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç ID –∏–∑ –ë–î
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è...';
            button.disabled = true;
            
            try {
                // –ü–æ–ª—É—á–∞–µ–º URL –¥–ª—è OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
                const response = await fetch('/api/auth/google/url');
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.error || 'Failed to get auth URL');
                }
                
                // –û—Ç–∫—Ä—ã–≤–∞–µ–º OAuth –æ–∫–Ω–æ
                const popup = window.open(data.authUrl, 'google-auth', 'width=500,height=600');
                
                // –°–ª—É—à–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç popup –æ–∫–Ω–∞
                const messageListener = async (event) => {
                    if (event.origin !== window.location.origin) return;
                    
                    if (event.data.type === 'GOOGLE_AUTH_SUCCESS') {
                        const { tokens } = event.data;
                        
                        // –¢–æ–∫–µ–Ω—ã —É–∂–µ –ø–æ–ª—É—á–µ–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö –Ω–∞–ø—Ä—è–º—É—é
                        const tokenData = {
                            success: true,
                            tokens: tokens
                        };
                        
                        if (tokenData.success) {
                            // –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                            const createResponse = await fetch('/api/sheets/create', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify({
                                    projectId,
                                    projectName,
                                    accessToken: tokenData.tokens.access_token
                                })
                            });
                            
                            const createData = await createResponse.json();
                            
                            if (createData.success) {
                                // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID —Ç–∞–±–ª–∏—Ü—ã
                                document.getElementById('existing-sheet-id').value = createData.data.spreadsheetId;
                                
                                button.textContent = '‚úÖ –°–æ–∑–¥–∞–Ω–æ!';
                                button.classList.remove('bg-green-500', 'hover:bg-green-600');
                                button.classList.add('bg-green-600');
                                
                                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–∞–±–ª–∏—Ü—É
                                const link = document.createElement('a');
                                link.href = createData.data.url;
                                link.target = '_blank';
                                link.textContent = '–û—Ç–∫—Ä—ã—Ç—å —Ç–∞–±–ª–∏—Ü—É';
                                link.className = 'text-green-300 underline ml-2';
                                button.parentNode.appendChild(link);
                                
                                alert(`‚úÖ Google —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞!\n\nID: ${createData.data.spreadsheetId}\n–°—Å—ã–ª–∫–∞: ${createData.data.url}\n\n–í —Ç–∞–±–ª–∏—Ü–µ —Å–æ–∑–¥–∞–Ω—ã –ª–∏—Å—Ç—ã:\n‚Ä¢ Payments (–æ–ø–ª–∞—Ç—ã)\n‚Ä¢ Attendance (–ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å)\n‚Ä¢ Leave (–æ—Ç–ø—É—Å–∫–∞)\n‚Ä¢ Absence (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è)\n‚Ä¢ KB (–±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π)\n‚Ä¢ Triage (—ç—Å–∫–∞–ª–∞—Ü–∏–∏)`);
                            } else {
                                throw new Error(createData.error || 'Failed to create spreadsheet');
                            }
                        } else {
                            throw new Error(tokenData.error || 'Failed to get tokens');
                        }
                        
                        popup.close();
                        window.removeEventListener('message', messageListener);
                    } else if (event.data.type === 'GOOGLE_AUTH_ERROR') {
                        throw new Error('Google authorization failed');
                    }
                };
                
                window.addEventListener('message', messageListener);
                
                // Timeout –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è popup –µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å
                setTimeout(() => {
                    if (!popup.closed) {
                        popup.close();
                        button.textContent = originalText;
                        button.disabled = false;
                        alert('–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                    }
                }, 30000);
                
            } catch (error) {
                console.error('Error creating Google Sheets:', error);
                button.textContent = '–û—à–∏–±–∫–∞';
                button.classList.remove('bg-green-500', 'hover:bg-green-600');
                button.classList.add('bg-red-500');
                alert(`–û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        function connectExistingSheet() {
            const sheetId = document.getElementById('existing-sheet-id').value.trim();
            
            if (!sheetId) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ ID Google —Ç–∞–±–ª–∏—Ü—ã');
                return;
            }
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '–ü—Ä–æ–≤–µ—Ä—è–µ–º...';
            button.disabled = true;
            
            setTimeout(() => {
                button.textContent = '‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ!';
                button.classList.remove('bg-blue-500', 'hover:bg-blue-600');
                button.classList.add('bg-green-600');
                
                alert(`‚úÖ Google —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞!\n\nID: ${sheetId}\n–°—Å—ã–ª–∫–∞: https://docs.google.com/spreadsheets/d/${sheetId}/edit`);
            }, 1500);
        }

        function connectGoogle() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
            const clientId = 'your-google-client-id';
            const redirectUri = window.location.origin + '/auth/google/callback';
            const scope = 'https://www.googleapis.com/auth/calendar.readonly';
            
            const authUrl = `https://accounts.google.com/o/oauth2/v2/auth?` +
                `client_id=${clientId}&` +
                `redirect_uri=${encodeURIComponent(redirectUri)}&` +
                `scope=${encodeURIComponent(scope)}&` +
                `response_type=code&` +
                `access_type=offline`;
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º OAuth –æ–∫–Ω–æ
            const popup = window.open(authUrl, 'google-auth', 'width=500,height=600');
            
            // –°–ª—É—à–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç popup –æ–∫–Ω–∞
            const messageListener = (event) => {
                if (event.origin !== window.location.origin) return;
                
                if (event.data.type === 'GOOGLE_AUTH_SUCCESS') {
                    // Google Calendar –ø–æ–¥–∫–ª—é—á–µ–Ω
                    alert('Google Calendar —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω!');
                    popup.close();
                    window.removeEventListener('message', messageListener);
                } else if (event.data.type === 'GOOGLE_AUTH_ERROR') {
                    alert('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google Calendar');
                    popup.close();
                    window.removeEventListener('message', messageListener);
                }
            };
            
            window.addEventListener('message', messageListener);
            
            // Timeout –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è popup –µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å
            setTimeout(() => {
                if (!popup.closed) {
                    popup.close();
                    alert('–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                }
            }, 30000);
        }

        function addFAQ() {
            const question = document.getElementById('faq-question').value;
            const answer = document.getElementById('faq-answer').value;
            
            if (question && answer) {
                faqItems.push({ question, answer });
                
                const faqList = document.getElementById('faq-list');
                const faqItem = document.createElement('div');
                faqItem.className = 'bg-white/10 rounded-lg p-4 flex justify-between items-center';
                faqItem.innerHTML = `
                    <div>
                        <p class="text-white font-medium">${question}</p>
                        <p class="text-white/60 text-sm">${answer}</p>
                    </div>
                    <button onclick="removeFAQ(${faqItems.length - 1})" class="text-red-400 hover:text-red-300">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                        </svg>
                    </button>
                `;
                faqList.appendChild(faqItem);
                
                document.getElementById('faq-question').value = '';
                document.getElementById('faq-answer').value = '';
            }
        }

        function removeFAQ(index) {
            faqItems.splice(index, 1);
            updateFAQList();
        }

        function updateFAQList() {
            const faqList = document.getElementById('faq-list');
            faqList.innerHTML = '';
            faqItems.forEach((item, index) => {
                const faqItem = document.createElement('div');
                faqItem.className = 'bg-white/10 rounded-lg p-4 flex justify-between items-center';
                faqItem.innerHTML = `
                    <div>
                        <p class="text-white font-medium">${item.question}</p>
                        <p class="text-white/60 text-sm">${item.answer}</p>
                    </div>
                    <button onclick="removeFAQ(${index})" class="text-red-400 hover:text-red-300">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                        </svg>
                    </button>
                `;
                faqList.appendChild(faqItem);
            });
        }

        function startBot() {
            // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            const settings = {
                projectName: document.getElementById('project-name').value,
                projectDescription: document.getElementById('project-description').value,
                botToken: document.getElementById('bot-token').value,
                parentsChat: document.getElementById('parents-chat').value,
                staffChat: document.getElementById('staff-chat').value,
                announcementsChat: document.getElementById('announcements-chat').value,
                calendarId: document.getElementById('calendar-id').value,
                faqItems: faqItems,
                selectedCommands: getSelectedCommands()
            };
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
            fetch('/api/bots/create', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(settings)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert(`‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!\n\nID: ${data.botId}\n–°—Ç–∞—Ç—É—Å: ${data.status}\n\n–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!`);
                } else {
                    alert(`‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞: ${data.error}`);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
            });
        }

        function getSelectedCommands() {
            const commands = {
                parents: [],
                staff: [],
                announcements: []
            };
            
            // –°–æ–±–∏—Ä–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
            const parentCheckboxes = document.querySelectorAll('#parents-chat').closest('.bg-white\\/10').querySelectorAll('input[type="checkbox"]:checked');
            parentCheckboxes.forEach(cb => {
                const text = cb.nextSibling.textContent.trim();
                if (text.includes('/')) {
                    commands.parents.push(text);
                }
            });
            
            // –°–æ–±–∏—Ä–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
            const staffCheckboxes = document.querySelectorAll('#staff-chat').closest('.bg-white\\/10').querySelectorAll('input[type="checkbox"]:checked');
            staffCheckboxes.forEach(cb => {
                const text = cb.nextSibling.textContent.trim();
                if (text.includes('/')) {
                    commands.staff.push(text);
                }
            });
            
            // –°–æ–±–∏—Ä–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–∞–Ω–∞–ª–∞
            const announcementCheckboxes = document.querySelectorAll('#announcements-chat').closest('.bg-white\\/10').querySelectorAll('input[type="checkbox"]:checked');
            announcementCheckboxes.forEach(cb => {
                const text = cb.nextSibling.textContent.trim();
                if (text.includes('/')) {
                    commands.announcements.push(text);
                }
            });
            
            return commands;
        }

        function goToDashboard() {
            const selectedCommands = getSelectedCommands();
            
            // Generate summary
            const summary = document.getElementById('summary');
            summary.innerHTML = `
                <p><strong>–ü—Ä–æ–µ–∫—Ç:</strong> ${document.getElementById('project-name').value || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</p>
                <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${document.getElementById('project-description').value || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</p>
                <p><strong>–¢–æ–∫–µ–Ω –±–æ—Ç–∞:</strong> ${document.getElementById('bot-token').value ? '***' + document.getElementById('bot-token').value.slice(-4) : '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</p>
                <p><strong>–ß–∞—Ç —Ä–æ–¥–∏—Ç–µ–ª–µ–π:</strong> ${document.getElementById('parents-chat').value || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</p>
                <p><strong>–ß–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:</strong> ${document.getElementById('staff-chat').value || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</p>
                <p><strong>–ö–∞–Ω–∞–ª –æ–±—ä—è–≤–ª–µ–Ω–∏–π:</strong> ${document.getElementById('announcements-chat').value || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</p>
                <p><strong>–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:</strong> Google Sheets (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)</p>
                <p><strong>–ö–∞–ª–µ–Ω–¥–∞—Ä—å:</strong> ${document.getElementById('calendar-id').value || '–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω'}</p>
                <p><strong>FAQ –≤–æ–ø—Ä–æ—Å–æ–≤:</strong> ${faqItems.length}</p>
                <p><strong>–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</strong></p>
                <ul class="ml-4 text-sm">
                    <li>–†–æ–¥–∏—Ç–µ–ª–∏: ${selectedCommands.parents.length > 0 ? selectedCommands.parents.join(', ') : '–ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏'}</li>
                    <li>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏: ${selectedCommands.staff.length > 0 ? selectedCommands.staff.join(', ') : '–ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏'}</li>
                    <li>–ö–∞–Ω–∞–ª: ${selectedCommands.announcements.length > 0 ? selectedCommands.announcements.join(', ') : '–ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏'}</li>
                </ul>
            `;
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            window.location.href = '/dashboard';
        }

        function downloadTemplate() {
            // –°–æ–∑–¥–∞–µ–º CSV –∫–æ–Ω—Ç–µ–Ω—Ç
            const csvContent = `–í–æ–ø—Ä–æ—Å,–û—Ç–≤–µ—Ç,–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
–í–æ —Å–∫–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞–Ω—è—Ç–∏–µ?,–ó–∞–Ω—è—Ç–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ 16:50,–≤—Ä–µ–º—è,–Ω–∞—á–∞–ª–æ,–≤–æ —Å–∫–æ–ª—å–∫–æ
–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –∞–±–æ–Ω–µ–º–µ–Ω—Ç?,–ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ –º–µ—Å—è—Ü —Å—Ç–æ–∏—Ç 5000 —Ä—É–±–ª–µ–π,—Ü–µ–Ω–∞,—Å—Ç–æ–∏–º–æ—Å—Ç—å,–∞–±–æ–Ω–µ–º–µ–Ω—Ç,—Ä—É–±–ª–µ–π
–ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–∏–Ω–µ—Å—Ç–∏ –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ?,–ü—Ä–∏–Ω–µ—Å–∏—Ç–µ –∫—Ä–∞—Å–∫–∏, –∫–∏—Å—Ç–∏ –∏ –±—É–º–∞–≥—É,–ø—Ä–∏–Ω–µ—Å—Ç–∏,–Ω—É–∂–Ω–æ,–º–∞—Ç–µ—Ä–∏–∞–ª—ã,–∫—Ä–∞—Å–∫–∏
–ö–∞–∫ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ?,–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ –º–æ–∂–Ω–æ –∑–∞ 2 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞,–æ—Ç–º–µ–Ω–∏—Ç—å,–æ—Ç–º–µ–Ω–∞,–∑–∞ 2 —á–∞—Å–∞
–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ?,–î–∞, –ø–µ—Ä–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ,–ø—Ä–æ–±–Ω–æ–µ,–±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ,–ø–µ—Ä–≤–æ–µ
–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—Ç—É–¥–∏—è?,–°—Ç—É–¥–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 123,–∞–¥—Ä–µ—Å,–≥–¥–µ,—Å—Ç—É–¥–∏—è,–Ω–∞—Ö–æ–¥–∏—Ç—Å—è
–ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–Ω—è—Ç–∏–π?,–î–∞, –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ –º–µ—Å—è—Ü,–∑–∞–ø–∏—Å–∞—Ç—å—Å—è,–Ω–µ—Å–∫–æ–ª—å–∫–æ,–∞–±–æ–Ω–µ–º–µ–Ω—Ç
–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –æ–ø–æ–∑–¥–∞–ª?,–ï—Å–ª–∏ –æ–ø–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª—å—à–µ 15 –º–∏–Ω—É—Ç, –∑–∞–Ω—è—Ç–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–º,–æ–ø–æ–∑–¥–∞–ª,–æ–ø–æ–∑–¥–∞–Ω–∏–µ,15 –º–∏–Ω—É—Ç
–ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–∞?,–î–∞, –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –¥—Ä—É–≥–∞ - –ø–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É 20%,–¥—Ä—É–≥,–ø—Ä–∏–≤–µ—Å—Ç–∏,—Å–∫–∏–¥–∫–∞
–ö–∞–∫ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º?,–ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –∏–ª–∏ –ø–æ–∑–≤–æ–Ω–∏—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É,—Å–≤—è–∑–∞—Ç—å—Å—è,–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å,—Ç–µ–ª–µ—Ñ–æ–Ω`;

            // –°–æ–∑–¥–∞–µ–º –∏ —Å–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', 'faq-template.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (file.type !== 'text/csv' && !file.name.endsWith('.csv')) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ CSV —Ñ–∞–π–ª');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const csv = e.target.result;
                    const lines = csv.split('\n');
                    const headers = lines[0].split(',');
                    
                    // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ FAQ
                    faqItems.length = 0;
                    
                    // –ü–∞—Ä—Å–∏–º CSV
                    for (let i = 1; i < lines.length; i++) {
                        if (lines[i].trim()) {
                            const values = lines[i].split(',');
                            if (values.length >= 2) {
                                faqItems.push({
                                    question: values[0].trim(),
                                    answer: values[1].trim(),
                                    keywords: values[2] ? values[2].trim().split(',').map(k => k.trim()) : []
                                });
                            }
                        }
                    }
                    
                    updateFAQList();
                    alert(`–ó–∞–≥—Ä—É–∂–µ–Ω–æ ${faqItems.length} –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞!`);
                } catch (error) {
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç CSV.');
                }
            };
            reader.readAsText(file);
        }

        // Initialize
        updateProgress();
    </script>
</body>
</html>
